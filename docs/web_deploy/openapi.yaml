openapi: 3.0.0
info:
  version: 1.0.0
  title: terraform-provider-tokend
  description: ''
paths:
  /createAccountRole:
    get:
      x-item-type: resource
      tags:
        - Account Role
      summary: Account Role
      description: |
        Operation docs - [Account Roles](https://tokend.github.io/xdr/#tag/Account-Roles)

        Array of rules must be specified to set the role.
      operationId: accountRole
      parameters:
        - name: AccountRole
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              anyOf:
                - $ref: '#/components/schemas/AccountRuleEntryTypeAsset'
                - $ref: '#/components/schemas/AccountRuleEntryTypeAtomicSwapAsk'
                - $ref: '#/components/schemas/AccountRuleEntryTypeBalance'
                - $ref: '#/components/schemas/AccountRuleEntryTypeSigner'
                - $ref: '#/components/schemas/AccountRuleEntryTypeTransaction'
                - $ref: '#/components/schemas/AccountRuleEntryTypeVote'
                - $ref: '#/components/schemas/AccountRuleEntryTypePoll'
                - $ref: '#/components/schemas/AccountRuleEntryTypeReviewableRequest'
                - $ref: '#/components/schemas/AccountRuleEntryTypeOffer'
                - $ref: '#/components/schemas/AccountRuleEntryTypeSale'
                - $ref: '#/components/schemas/AccountRuleEntryTypeExternalSystemAccountIDPool'
  /createAccountRule:
    get:
      x-item-type: resource
      tags:
        - Account Rule
      summary: Account Rule
      description: |
        Operation docs - [Account Rules](https://tokend.github.io/xdr/#tag/Account-Rules)
      x-code-samples:
        - lang: tf
          source: |
            resource tokend_account_rule "balance_creator" {
              action = "create"
              entry_type = "balance"
            }

            resource tokend_account_rule "role_updater" {
              action = "create"
              entry_type = "reviewable_request"
              entry = {
                request_type = "change_role"
              }
            }

            resource tokend_account_rule "asset_creator" {
              action = "create"
              entry_type = "asset"
              entry = {
                asset_type = "*"
                asset_code = "*"
              }
            }
      operationId: accountRule
      parameters:
        - name: AccountRule
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: object
            oneOf:
              - $ref: '#/components/schemas/AccountRuleEntryTypeAsset'
              - $ref: '#/components/schemas/AccountRuleEntryTypeAtomicSwapAsk'
              - $ref: '#/components/schemas/AccountRuleEntryTypeBalance'
              - $ref: '#/components/schemas/AccountRuleEntryTypeSigner'
              - $ref: '#/components/schemas/AccountRuleEntryTypeTransaction'
              - $ref: '#/components/schemas/AccountRuleEntryTypeVote'
              - $ref: '#/components/schemas/AccountRuleEntryTypePoll'
              - $ref: '#/components/schemas/AccountRuleEntryTypeReviewableRequest'
              - $ref: '#/components/schemas/AccountRuleEntryTypeOffer'
              - $ref: '#/components/schemas/AccountRuleEntryTypeSale'
              - $ref: '#/components/schemas/AccountRuleEntryTypeExternalSystemAccountIDPool'
  /createAsset:
    get:
      x-item-type: resource
      tags:
        - Asset
      summary: Asset
      description: |
        Operation docs - [Assets](https://tokend.github.io/xdr/#tag/Assets)
      x-code-samples:
        - lang: tf
          source: |
            resource tokend_asset "BTC" {
              code                        = "BTC"
              max_issuance_amount         = "21000000"
              initial_pre_issuance_amount = "21000000"
              pre_issuance_signer         = "GBA4EX43M25UPV4WIE6RRMQOFTWXZZRIPFAI5VPY6Z2ZVVXVWZ6NEOOB"
              trailing_digits_count       = 6

              details = {
                name = "Bitcoin"
              }

              policies = [
                "transferable",
                "base_asset",
              ]
            }
      operationId: asset
      parameters:
        - name: Asset
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: object
            $ref: '#/components/schemas/AssetResource'
  /createAssetPair:
    get:
      x-item-type: resource
      tags:
        - Asset Pair
      summary: Asset Pair
      description: |
        Operation docs - [ManageAssetPairOp](https://tokend.github.io/xdr/#operation/manageAssetPairOp)
      x-code-samples:
        - lang: tf
          source: |
            resource tokend_asset_pair "USD_BTC" {
              base  = "BTC"
              quote = "USD"
              price = "2344111116"
            }
      operationId: assetPair
      parameters:
        - name: AssetPair
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: object
            $ref: '#/components/schemas/AssetPairResource'
  /createKeyValue:
    get:
      x-item-type: resource
      tags:
        - Key Value
      summary: Key Value
      description: |
        Operations docs - [ManageKeyValueOp](https://tokend.github.io/xdr/#operation/manageKeyValueOp)
      x-code-samples:
        - lang: tf
          source: |
            resource tokend_key_value "new_key" {
              key        = "new_key"
              value_type = "uint32"
              value      = "1"
            }
      operationId: keyValue
      parameters:
        - name: KeyValue
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: object
            $ref: '#/components/schemas/KeyValueResource'
  /createSignerRole:
    get:
      x-item-type: resource
      tags:
        - Signer Role
      summary: Signer Role
      description: |
        Operation docs - [Signer Roles](https://tokend.github.io/xdr/#tag/Signer-Roles)
      operationId: signerRole
      parameters:
        - name: SignerRole
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              anyOf:
                - $ref: '#/components/schemas/SignerRuleEntryTypeSigner'
                - $ref: '#/components/schemas/SignerRuleEntryTypeTransaction'
                - $ref: '#/components/schemas/SignerRuleEntryTypeFee'
                - $ref: '#/components/schemas/SignerRuleEntryTypeLimits'
                - $ref: '#/components/schemas/SignerRuleEntryTypeKeyValue'
                - $ref: '#/components/schemas/SignerRuleEntryTypeSale'
                - $ref: '#/components/schemas/SignerRuleEntryTypeAsset'
                - $ref: '#/components/schemas/SignerRuleEntryTypeReviewableRequest'
                - $ref: '#/components/schemas/SignerRuleEntryTypeStamp'
                - $ref: '#/components/schemas/SignerRuleEntryTypeLicense'
  /createSignerRule:
    get:
      x-item-type: resource
      tags:
        - Signer Rule
      summary: Signer Rule
      description: |
        Operation docs - [Signer Rules](https://tokend.github.io/xdr/#tag/Signer-Rules)
      x-code-samples:
        - lang: tf
          source: |
            resource tokend_signer_rule "tx_sender" {
              action     = "send"
              entry_type = "transaction"
            }

            resource tokend_signer_rule "request_reviewer" {
              action = "review"
              entry_type = "reviewable_request"
              entry = {
                request_type = "*"
              }
            }

            resource tokend_signer_rule "sale_checker" {
              action = "check"
              entry_type = "sale"
              entry = {
                sale_id = "*"
                sale_type = "*"
              }
            }
      operationId: signerRule
      parameters:
        - name: SignerRule
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: object
            oneOf:
              - $ref: '#/components/schemas/SignerRuleEntryTypeSigner'
              - $ref: '#/components/schemas/SignerRuleEntryTypeTransaction'
              - $ref: '#/components/schemas/SignerRuleEntryTypeFee'
              - $ref: '#/components/schemas/SignerRuleEntryTypeLimits'
              - $ref: '#/components/schemas/SignerRuleEntryTypeKeyValue'
              - $ref: '#/components/schemas/SignerRuleEntryTypeSale'
              - $ref: '#/components/schemas/SignerRuleEntryTypeAsset'
              - $ref: '#/components/schemas/SignerRuleEntryTypeReviewableRequest'
              - $ref: '#/components/schemas/SignerRuleEntryTypeStamp'
              - $ref: '#/components/schemas/SignerRuleEntryTypeLicense'
components:
  schemas:
    AccountRuleActions:
      type: array
      description: wildcard value "*" can be used
      items:
        - '*'
        - create
        - create_for_other
        - create_with_tasks
        - manage
        - send
        - withdraw
        - receive_issuance
        - receive_payment
        - receive_atomic_swap
        - participate
        - bind
        - update_max_issuance
        - check
        - cancel
        - close
        - remove
        - update_end_time
        - create_for_other_with_tasks
    AccountRuleEntryTypeAsset:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - asset
        entry:
          type: object
          properties:
            asset_type:
              type: string
              description: wildcard value "*" can be used
            asset_code:
              type: string
    AccountRuleEntryTypeAtomicSwapAsk:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - atomic_swap_ask
        entry:
          type: object
          properties:
            asset_type:
              type: string
              description: wildcard value "*" can be used
            asset_code:
              type: string
    AccountRuleEntryTypeBalance:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - balance
    AccountRuleEntryTypeExternalSystemAccountIDPool:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - external_system_account_id_pool_entry
    AccountRuleEntryTypeOffer:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - offer
        entry:
          type: object
          properties:
            is_buy:
              type: boolean
              example: true
            quote_asset_type:
              type: string
            base_asset_type:
              type: string
    AccountRuleEntryTypePoll:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - poll
        entry:
          type: object
          properties:
            poll_id:
              type: string
              description: ID of the poll. Wildcard value "*" can be used
            permission_type:
              type: string
              description: permission type of poll. Wildcard value "*" can be used
    AccountRuleEntryTypeReviewableRequest:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - reviewable_request
        entry:
          type: object
          properties:
            request_type:
              type: string
              description: wildcard value "*" can be used
              enum:
                - create_pre_issuance
                - create_issuance
                - create_withdraw
                - create_sale
                - update_limits
                - create_aml_alert
                - change_role
                - update_sale_details
                - create_asset
                - create_invoice
                - manage_contract
                - update_asset
                - create_poll
                - create_atomic_swap_ask
                - create_atomic_swap_bid
                - kyc_recovery
    AccountRuleEntryTypeSale:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - sale
        entry:
          type: object
          properties:
            sale_id:
              type: string
              description: wildcard value "*" can be used
            sale_type:
              type: string
              description: wildcard value "*" can be used
    AccountRuleEntryTypeSigner:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - signer
    AccountRuleEntryTypeTransaction:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - transaction
    AccountRuleEntryTypeVote:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - create_with_tasks
            - manage
            - send
            - withdraw
            - receive_issuance
            - receive_payment
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - cancel
            - close
            - remove
            - update_end_time
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - vote
        entry:
          type: object
          properties:
            poll_id:
              type: string
              description: ID of the poll. Wildcard value "*" can be used
            permission_type:
              type: string
              description: permission type of poll. Wildcard value "*" can be used
    AssetPairResource:
      type: object
      properties:
        base:
          type: string
        quote:
          type: string
        price:
          type: string
    AssetResource:
      type: object
      properties:
        code:
          type: string
          description: Code of an asset to create
        max_issuance_amount:
          type: string
          description: Maximal amount to be issued
        initial_pre_issuance_amount:
          type: string
          description: Amount to pre issue on asset creation
        pre_issuance_signer:
          type: string
          description: Public key of a signer that will perform pre issuance
        trailing_digits_count:
          type: integer
          description: Number of significant decimal places
        details:
          type: object
          description: Arbitrary stringified JSON object that can be used to attach data to be reviewed by an admin
        policies:
          type: array
          items:
            type: string
            enum:
              - transferable
              - base_asset
              - stats_quote_asset
              - withdrawable
              - issuance_manual_review_required
              - can_be_base_in_atomic_swap
              - can_be_quote_in_atomic_swap
    KeyValueResource:
      type: object
      properties:
        key:
          type: string
        value_type:
          type: string
          enum:
            - uint32
            - uint64
            - string
        value:
          type: string
    SignerRuleEntryTypeAsset:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - asset
        entry:
          type: object
          properties:
            asset_type:
              type: string
              description: wildcard value "*" can be used
            asset_code:
              type: string
    SignerRuleEntryTypeFee:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - fee
    SignerRuleEntryTypeKeyValue:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - key_value
    SignerRuleEntryTypeLicense:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - license
    SignerRuleEntryTypeLimits:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - limits
    SignerRuleEntryTypeReviewableRequest:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - reviewable_request
        entry:
          type: object
          properties:
            request_type:
              type: string
              description: wildcard value "*" can be used
              enum:
                - create_pre_issuance
                - create_issuance
                - create_withdraw
                - create_sale
                - update_limits
                - create_aml_alert
                - change_role
                - update_sale_details
                - create_asset
                - create_invoice
                - manage_contract
                - update_asset
                - create_poll
                - create_atomic_swap_ask
                - create_atomic_swap_bid
                - kyc_recovery
    SignerRuleEntryTypeSale:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - sale
        entry:
          type: object
          properties:
            sale_id:
              type: string
              description: wildcard value "*" can be used
            sale_type:
              type: string
              description: wildcard value "*" can be used
    SignerRuleEntryTypeSigner:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - signer
    SignerRuleEntryTypeStamp:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - stamp
    SignerRuleEntryTypeTransaction:
      type: object
      properties:
        action:
          type: string
          description: wildcard value "*" can be used
          enum:
            - '*'
            - create
            - create_for_other
            - update
            - manage
            - send
            - remove
            - cancel
            - review
            - receive_atomic_swap
            - participate
            - bind
            - update_max_issuance
            - check
            - close
            - update_end_time
            - create_with_tasks
            - create_for_other_with_tasks
        entry_type:
          type: string
          enum:
            - transaction
  parameters: {}
